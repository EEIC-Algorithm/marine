## 解法
dp[x]:=最後の要素がxであるようなAの部分列の最大の長さとします。
始めはすべてのA_i(1<=i<=N)に対してdp[A_i]=0としておき、数列Aを左から順に見ながらdpテーブルを更新していきます。
Aのi番目の要素は、答の部分列に使われないか、iより左側にある部分列で最後の数がA_i-1であるようなものの末尾に加えるかのどちらかなので、
更新の式は次のように書くことができます。
dp[A_i]=max(dp[A_i],dp[A_i-1]+1)

このようにして更新したdpテーブルの中の最大値が求める部分列の最大の長さとなります。
この問題では、最大値だけではなく数列Aのうち部分列に使われた要素のindexを辞書順最小となるように復元する必要があります。
復元の方法は色々考えられますが、1つの方法として、
start_index[i]:=i番目の要素を含む部分列の先頭要素のindex
をdpテーブルの更新と共に記録し、答えが複数ある場合は先頭要素のindexが一番小さくなるような部分列を選びます。
先頭のindexと部分列の長さが分かれば部分列の要素もすべて分かる(先頭要素をx,部分列の長さをkとすると{x,x+1,x+2,...,x+k-1}となります)ので、数列Aを左から順に見ながら部分列の要素を見つけ次第貪欲に選ぶことで辞書順最小のindexを復元できます。