## 解法
b_i^a_iが掛けられる回数は、i(0-indexed)を含む区間[l,r]の個数に等しいので(i+1)*(N-i)回となります。
ですので、i番目の要素の寄与はb_i^(a_i*(i+1)*(N-i))となります((a_i*(i+1)*(N-i)をc_iとおきます)。したがって、
c_iの値が大きいものに対してできるだけ小さいb_iを組み合わせるのが最適です。(あるi,jが存在してb_i<b_jかつc_i<c_jが成り立つとき、b_iとb_jを入れ替えることで答えを小さくできることが示せます)

## 計算量
b_iとc_iのソートがO(N log N)、繰り返し自乗法がO(log MOD)なので、全体でO(N(log N + log MOD))です。